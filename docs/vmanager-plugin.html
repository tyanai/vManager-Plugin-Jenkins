                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    <head>
        <title>View Source</title>
        <link rel="canonical" href="/pages/viewpage.action?pageId=$action.page.id" />
        <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\u0022\u0022";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script>
<link type="text/css" rel="stylesheet" href="/s/767f885f7392aaa21011e269ae794e07-CDN/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/592eb839f6855fde3ea90905d65a50cc/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/767f885f7392aaa21011e269ae794e07-CDN/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/592eb839f6855fde3ea90905d65a50cc/_/download/contextbatch/css/_super/batch.css?conditionalComment=lt+IE+9" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/767f885f7392aaa21011e269ae794e07-CDN/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/592eb839f6855fde3ea90905d65a50cc/_/download/contextbatch/css/_super/batch.css?conditionalComment=lte+IE+9" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/d2c5222df144c20c6432e82e1b240550/_/download/contextbatch/css/plugin.viewsource,-_super/batch.css" data-wrm-key="plugin.viewsource,-_super" data-wrm-batch-type="context" media="all">
<link type="text/css" rel="stylesheet" href="/s/f8551488ea573a191433f0d470adafc9-CDN/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/d4667b4533f4195fcdddcdb79cc37c3e/_/download/contextbatch/css/page,-_super/batch.css" data-wrm-key="page,-_super" data-wrm-batch-type="context" media="all">
<link type="text/css" rel="stylesheet" href="/s/6814e28c1e504fab9c211cf53f8e82a3-CDN/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/3a6818be5719e109eed3f7822b3dad19/_/download/contextbatch/css/editor-content,-_super/batch.css?confluence.table.resizable=true&amp;frontend.editor.v4=true" data-wrm-key="editor-content,-_super" data-wrm-batch-type="context" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/6814e28c1e504fab9c211cf53f8e82a3-CDN/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/3a6818be5719e109eed3f7822b3dad19/_/download/contextbatch/css/editor-content,-_super/batch.css?conditionalComment=lte+IE+9&amp;confluence.table.resizable=true&amp;frontend.editor.v4=true" data-wrm-key="editor-content,-_super" data-wrm-batch-type="context" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="/s/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/7/_/styles/colors.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/en_US/8100/5084f018d64a97dc638ca9a178856f851ea353ff/7/_/styles/custom.css" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <table class="wysiwyg-macro" data-macro-name="unmigrated-inline-wiki-markup" data-macro-id="c2a902cc-e456-4ad4-9e0e-864c96402a00" data-macro-parameters="atlassian-macro-output-type=INLINE" data-macro-schema-version="1" style="background-image: url(/plugins/servlet/confluence/placeholder/macro-heading?definition=e3VubWlncmF0ZWQtaW5saW5lLXdpa2ktbWFya3VwOmF0bGFzc2lhbi1tYWNyby1vdXRwdXQtdHlwZT1JTkxJTkV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{jenkins-plugin-info:vmanager-plugin}</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="excerpt" data-macro-id="9b489196-97ba-4241-be43-c5d341eedc7a" data-macro-parameters="atlassian-macro-output-type=INLINE" data-macro-schema-version="1" style="background-image: url(/plugins/servlet/confluence/placeholder/macro-heading?definition=e2V4Y2VycHQ6YXRsYXNzaWFuLW1hY3JvLW91dHB1dC10eXBlPUlOTElORX0&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>This plugin adds an ability to perform REST over HTTP calls to Cadence vManager as a step in your build.</p></td></tr></table><h3>Plugin Dependency</h3><p>Please make sure you have the <strong>dashboard-view</strong> &amp; <strong>workflow-step-api </strong>plugin installed on your Jenkins before trying to install this plugin.</p><p>Also, in case you want to chart over the runs results, install the <strong>Junit Plugin</strong> as well.</p><p><img class="confluence-embedded-image confluence-thumbnail" width="100" src="./docs/images/JunitA.png" data-image-src="./docs/images/JunitA.png" data-unresolved-comment-count="0" data-linked-resource-id="99614743" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="JunitA.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > JunitA.png" data-location="Jenkins > Cadence vManager Plugin > JunitA.png" data-image-height="308" data-image-width="617"> <img class="confluence-embedded-image confluence-thumbnail" width="300" src="./docs/images/Dashboard.png" data-image-src="./docs/images/Dashboard.png" data-unresolved-comment-count="0" data-linked-resource-id="99614744" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Dashboard.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > Dashboard.png" data-location="Jenkins > Cadence vManager Plugin > Dashboard.png" data-image-height="169" data-image-width="1091"></p><h3>Why this plugin ?</h3><p>Cadence vManager is exposing a REST API (vAPI) for performing automation queries and updates for its regression/test and coverage data.  This plugin enables you to add a remote execution for extracting runs information, reports data or even launching new sessions as part of your build process.</p><h3>Features</h3><ul><li>Free-style job plugin (can perform all vManager API call).</li><li>Support static/dynamic API calls</li><li>Support dynamic authentication per user id.</li><li>Special build step for performing launch of vsif files dynamically.</li><li>Support Dashboard portal for showing the session status. (plugin ver 1.9 and above).</li><li>Support the JUnit Report format for showing pass/fail runs charts (plugin ver 1.9 and above).</li><li>Support the Jenkins Pipeline Step API (plugin ver 2.5.1 and above).</li><li>Support the ability to delete sessions with every manual/automatic build removal <span>(plugin ver 2.5.2 and above).</span></li><li><span>Adds a link within the project page for direct access to the vManager web <span style="font-size: 14.0px;">analysis (post-build action).</span></span></li><li><span><span style="font-size: 14.0px;">Adds a table of sessions within the project's page to track the session's history and give high level overview about the progress (post-build action).</span></span></li><li><span><span style="font-size: 14.0px;">Adds an ability to embed the vManager Summary Report within Jenkins as part of the build page.</span></span></li><li><span><span style="font-size: 14.0px;"><span style="font-size: 14.0px;">Adds an ability to send vManager Summary Report to dynamically selective users at the end of the regression.</span></span></span></li><li><span><span style="font-size: 14.0px;"><span style="font-size: 14.0px;">Support Collect Mode.</span></span></span></li></ul><h3>Configuration</h3><p>After installing the plugin you'll get two new steps in the build step selection.</p><p><img class="confluence-embedded-image confluence-content-image-border" src="./docs/images/addstep.png" data-image-src="./docs/images/addstep.png" data-unresolved-comment-count="0" data-linked-resource-id="73596990" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="addstep.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > addstep.png" data-location="Jenkins > Cadence vManager Plugin > addstep.png" data-image-height="211" data-image-width="313"><br /><span style="color: rgb(136,136,136);"><em>A new step types</em></span></p><ul><li>Choose &quot;<strong>vManager API</strong>&quot; if you need a free-style vAPI call to sends dynamic json input and receive a json output.</li><li>Choose &quot;<strong>vManager Session Launcher</strong>&quot; if you need to add a step for remote launching vsif (one or more).</li></ul><p><br /></p><p><img class="confluence-embedded-image confluence-content-image-border" alt="A new post-build type" height="400" width="410" src="./docs/images/postbuild.png" data-image-src="./docs/images/postbuild.png" data-unresolved-comment-count="0" data-linked-resource-id="182485308" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="postbuild.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > postbuild.png (A new post-build type)" data-location="Jenkins > Cadence vManager Plugin > postbuild.png" data-element-title="A new post-build type" data-image-height="421" data-image-width="431"></p><ul><li>Choose &quot;<strong>vManager Post Build Actions</strong>&quot; if you need analysis links and session triage table at the Project (job) and Build (run) level. (see pre-requisite below)</li><li>The Post Build Action <strong>must have</strong> the 'vManager Launcher' part running as part of the build steps as a pre-requisites.</li></ul><h3>Usage</h3><h5><em><u><span style="color: rgb(0,0,0);"><strong>vManager API</strong></span></u></em></h5><p>The step takes care for the following:</p><ul><li>Authentication.</li><li>Defining the API call.</li><li>Defining the json input string for the API (static/dynamic).</li><li>Saving the API result (json format) into the workspace. </li></ul><p>The below is an example of defining a <strong>static vAPI call</strong> for getting a list of runs with session id equals to 1 or 2:</p><p><img class="confluence-embedded-image confluence-content-image-border" src="./docs/images/apistatic.png" data-image-src="./docs/images/apistatic.png" data-unresolved-comment-count="0" data-linked-resource-id="73596991" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="apistatic.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > apistatic.png" data-location="Jenkins > Cadence vManager Plugin > apistatic.png" data-image-height="250" data-image-width="634"><br /><span style="color: rgb(136,136,136);"><em>Adding static vAPI input</em></span></p><p>The below is an example of defining a <strong>dynamic vAPI call</strong>:</p><p><img class="confluence-embedded-image confluence-content-image-border" src="./docs/images/dynamicapi.png" data-image-src="./docs/images/dynamicapi.png" data-unresolved-comment-count="0" data-linked-resource-id="73596992" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="dynamicapi.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > dynamicapi.png" data-location="Jenkins > Cadence vManager Plugin > dynamicapi.png" data-image-height="220" data-image-width="493"><br /><span style="color: rgb(136,136,136);"><em>Adding dynamic vAPI input</em></span></p><p>In case of a need in dynamically change the jSON input for the API per job, the pre-job should place into the workspace directory a file with the relevant jSON string to be sent to the vAPI.<br />The input file should be place into the workspace directory. In case this field is empty, The file name need to be: $BUILD_NUMBER..$BUILD_ID.vapi.input</p><p>Please fill this field only in case, you want to hard code the input file name, to be consist across all builds.</p><h5><em><u><span style="color: rgb(0,0,0);"><strong>vManager Session Launcher</strong></span></u></em></h5><p><span style="color: rgb(0,0,0);">There are two modes for launching a session using the vManager Session Launcher action:</span></p><ul><li><strong>Launcher mode (default)</strong> - choose this if you want the plugin to take over the actual launch operation with all the relevant setting, environment and parameters.</li><li><strong>Batch mode</strong> - choose this mode if you want to launch the sessions yourself using shell/batch as part of a pre-step for this action.</li></ul><p>      <img class="confluence-embedded-image confluence-thumbnail confluence-content-image-border" width="300" src="./docs/images/executiontype.png" data-image-src="./docs/images/executiontype.png" data-unresolved-comment-count="0" data-linked-resource-id="182485378" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="executiontype.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > executiontype.png" data-location="Jenkins > Cadence vManager Plugin > executiontype.png" data-image-height="67" data-image-width="365"></p><p><br /></p><p><strong>Launcher mode </strong></p><p>The step takes care for the following:</p><ul><li>Authentication.</li><li>Launching a vsif that is located on the NFS and is available to vManager Server.</li></ul><p>The below is an example of defining a <strong>static vsif call.</strong></p><p><img class="confluence-embedded-image confluence-content-image-border" src="./docs/images/staticvsif.png" data-image-src="./docs/images/staticvsif.png" data-unresolved-comment-count="0" data-linked-resource-id="73596993" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="staticvsif.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > staticvsif.png" data-location="Jenkins > Cadence vManager Plugin > staticvsif.png" data-image-height="98" data-image-width="497"><br /><span style="color: rgb(136,136,136);"><em>Launching a static vsif file</em></span></p><p>The below is an example of defining a <strong>dynamic launch call with  multiple vsif files.</strong></p><p><img class="confluence-embedded-image confluence-content-image-border" src="./docs/images/dynamicvsif.png" data-image-src="./docs/images/dynamicvsif.png" data-unresolved-comment-count="0" data-linked-resource-id="73596994" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="dynamicvsif.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > dynamicvsif.png" data-location="Jenkins > Cadence vManager Plugin > dynamicvsif.png" data-image-height="145" data-image-width="554"><br /><span style="color: rgb(136,136,136);"><em>Launching more than one vsif file dynamically </em></span></p><p>In case of a need in dynamically selecting the vsif files to get launched per job, the pre-job should place into the workspace directory a file with the full paths of the relevant vsif files to be launched, new line for each additional vsif file.<br />The input file should be place into the workspace directory. In case this field is empty, The file name need to be: $BUILD_NUMBER.$BUILD_ID.vsif.input<br />Please fill this field only in case, you want to hard code the input file name, to be consist across all builds.</p><p><br /></p><p><strong>Batch mode  (<span style="color: rgb(51,51,51);">Continue from a pre-launched session)</span></strong></p><p><span style="color: rgb(51,51,51);">The below is an example of defining a continues action from a previous launched session:</span></p><p><img class="confluence-embedded-image confluence-content-image-border" height="150" src="./docs/images/batchmode.png" data-image-src="./docs/images/batchmode.png" data-unresolved-comment-count="0" data-linked-resource-id="182485379" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="batchmode.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > batchmode.png" data-location="Jenkins > Cadence vManager Plugin > batchmode.png" data-image-height="247" data-image-width="996"></p><p><span style="color: rgb(51,51,51);">This option is useful for those who wish to take benefit of their own environment and scripts for launching sessions using batch, but still want the benefit of having the Job waiting for the execution to end, generates JUnit report, produce triage link, real time view of the run's progress, etc'</span><br /><span style="color: rgb(51,51,51);">In this option, there is an assumption that a pre-step (usually from shell type) is taking over the session launch operation, and as such, in order for this plugin to continue monitor those sessions - the session names need to be exchange between the shell step and this step.</span><br /><br /><span style="color: rgb(51,51,51);">In case of a need to launch the sessions using batch as a pre-step to this one, the pre-step should place into the workspace directory a file with the session or session names that were launched - new line for each session name.</span><br /><span style="color: rgb(51,51,51);">The input file should be place into the working directory. In case this field is empty, The file name need to be: ${BUILD_NUMBER}.${BUILD_ID}.sessions.input</span><br /><span style="color: rgb(51,51,51);">Please fill this field only in case, you want to hard code the input file name, to be consist across all builds.</span><br /><br /><span style="color: rgb(51,51,51);">The vManager plugin will look for the any of the input files mentioned above, and query the server for their respective id automatically. From that point and on, the flow continues as if the sessions were launched by this plugin.</span></p><p><br /></p><p><strong>Collect mode  (<span style="color: rgb(51,51,51);">Continue post 'collect')</span></strong></p><p><span style="color: rgb(51,51,51);">The below is an example of defining a continues action from a previous launched session:</span></p><p><span style="color: rgb(51,51,51);"><img class="confluence-embedded-image confluence-content-image-border" height="150" src="./docs/images/batchmode.png" data-image-src="./docs/images/batchmode.png" data-unresolved-comment-count="0" data-linked-resource-id="182485379" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="batchmode.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > batchmode.png" data-location="Jenkins > Cadence vManager Plugin > batchmode.png" data-image-height="247" data-image-width="996"></span></p><p><span style="color: rgb(51,51,51);">This option is useful for those who wish to take advantage of this plugin, but are not using the vManager Runner, and uses &quot;<strong>collect</strong>&quot; mode instead. For such flow they can still benefit from generated JUnit report, triage link, real time view of the run's progress, summary report, etc'.<br />In this option, there is an assumption that a pre-step (usually from shell type) is taking over the session launch operation (or collect), and as such, in order for this plugin to continue monitoring those sessions - the session names need to be exchange between the shell step and this step.<br /><br />In case of a need to collect the sessions as a pre-step to this one, the pre-step should place into the workspace directory a file with the session or session names that were collected - new line for each session name.<br />The input file should be place into the working directory. In case this field is empty, The file name need to be: ${BUILD_NUMBER}.${BUILD_ID}.sessions.input<br />Please fill this field only in case, you want to hard code the input file name, to be consist across all builds.<br /><br />the vManager plugin will look for any of the input files mentioned above, and query the server for their respective id automatically. From that point and on, the flow continues as if the sessions were collected by this plugin.</span></p><p><strong><span style="color: rgb(51,51,51);">Important:</span></strong></p><p><span style="color: rgb(51,51,51);">please make sure &quot;<strong>Wait for launched session to end</strong>&quot; is checked 'on' within the plugin configuration.  Basically, your collected sessions must be in a &quot;complete&quot; state within vManager.  The step will only move FW once ALL your collected sessions are in a &quot;complete&quot; state, and as such, this flag must be turned on.  You can still define different states for the plugin to continue, if you like.<br /><br />The output of all IDs of the launched/collected sessions can be found at: ${BUILD_NUMBER}.${BUILD_ID}.session_launch.output</span></p><p><br /></p><p><strong>Setting the build to wait till all session end execution:</strong></p><p>In case you want to hold the build till the session end its execution on the vManager side, please check the 'wait for launched session to end&quot; check box.</p><p>  <img class="confluence-embedded-image" src="./docs/images/wait.png" data-image-src="./docs/images/wait.png" data-unresolved-comment-count="0" data-linked-resource-id="99614741" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="wait.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > wait.png" data-location="Jenkins > Cadence vManager Plugin > wait.png" data-image-height="429" data-image-width="701"></p><p><span style="color: rgb(51,51,51);">The above setup allow you to select how the build will behave in each of the state where the session stop from running:</span></p><p><span style="color: rgb(51,51,51);"><strong>Continue</strong></span><br /><span style="color: rgb(51,51,51);">In case you select to continue, the build will assume (on the chosen state) for a given session that it can continue and finish the wait on this specific session.</span><br /><span style="color: rgb(51,51,51);">Please note that in case there are multiple sessions that are being executed by this step, the build will wait till all sessions got into a state that allow it to continue. </span></p><p><span style="color: rgb(51,51,51);"><strong>Ignore</strong></span><br /><span style="color: rgb(51,51,51);">In case you select to continue, the build will assume (on the chosen state) for a given session that it can ignore the chosen state and keep waiting for other state (until get the 'completed' state). </span></p><p><span style="color: rgb(51,51,51);"><strong>Fail</strong></span><br /><span style="color: rgb(51,51,51);">In case you select to fail, the build will assume (on the chosen state) for a given session that it should mark this build as a failure build. </span><span style="color: rgb(51,51,51);"><strong>Note: </strong></span><span style="color: rgb(51,51,51);">If you have multiple sessions on this build step, it is enough for one single session to be marked as 'failed' in order to mark the entire build as a failed build. </span></p><p><span style="color: rgb(51,51,51);"><strong>Other Waiting Considerations</strong></span><br /><span style="color: rgb(51,51,51);">1. When all sessions on this build step are having the state 'completed' the build will be marked as success.</span><br /><span style="color: rgb(51,51,51);">2. When the vManager server goes down, the build step will keep waiting till the server will go back up. The build step will only change its state based on sessions state changes.</span><br /><span style="color: rgb(51,51,51);">3. If the session was manually deleted on the vManager server, before reaching into final state, the build will be marked as a failure build.</span><br /><span style="color: rgb(51,51,51);">4. In any case, if the number of minutes waiting is bigger than the timeout set here, the build will marked as a failed build.</span></p><p><span style="color: rgb(51,51,51);"><strong>Add support in Junit Plugin and Test Charting</strong></span></p><p><span style="color: rgb(51,51,51);">The launch Session Plugin is also capable of placing an XML file in the format of Junit Test Report.  The XML file name will be</span><span style="color: rgb(51,51,51);"><strong> </strong></span><span style="color: rgb(51,51,51);"><strong>session_runs</strong></span><span style="color: rgb(51,51,51);"><strong>.xml - </strong></span><span style="color: rgb(51,51,51);">This format let 'Junit Plugin&quot; chart over each build.  In order to activate this:</span></p><p><span style="color: rgb(51,51,51);">1.</span><span style="color: rgb(51,51,51);">After activating the &quot;wait for session to end&quot;, check the  &quot;Generate JUnit Result&quot; checkbox.  You can also add custom Runs' attributes to the report using this configuration.</span></p><p><span style="color: rgb(51,51,51);">2.</span><span style="color: rgb(51,51,51);">Install the plugin &quot;Junit Plugin&quot;.  Add a final build step to pick *</span><span style="color: rgb(51,51,51);"><strong>/</strong></span><span style="color: rgb(51,51,51);">.session_runs.xml from the workspace.</span></p><p><span style="color: rgb(51,51,51);">This will give you a detail summary of the build, and an aggregated charting over your entire builds.  See below.</span></p><p><img class="confluence-embedded-image confluence-content-image-border" src="./docs/images/detail_junit.png" data-image-src="./docs/images/detail_junit.png" data-unresolved-comment-count="0" data-linked-resource-id="99614742" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="detail_junit.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > detail_junit.png" data-location="Jenkins > Cadence vManager Plugin > detail_junit.png" data-image-height="648" data-image-width="989"> <img class="confluence-embedded-image confluence-content-image-border" src="./docs/images/JunitA.png" data-image-src="./docs/images/JunitA.png" data-unresolved-comment-count="0" data-linked-resource-id="99614743" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="JunitA.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > JunitA.png" data-location="Jenkins > Cadence vManager Plugin > JunitA.png" data-image-height="308" data-image-width="617"></p><p><strong><br /></strong></p><p><strong>Launching session using pipeline syntax</strong></p><p>The vManager Plugin (Launching New Session only) also support the Pipeline syntax:</p><p><img class="confluence-embedded-image confluence-content-image-border" height="250" src="./docs/images/pipeline.png" data-image-src="./docs/images/pipeline.png" data-unresolved-comment-count="0" data-linked-resource-id="135469469" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="pipeline.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > pipeline.png" data-location="Jenkins > Cadence vManager Plugin > pipeline.png" data-image-height="408" data-image-width="1632"></p><p><img class="confluence-embedded-image confluence-content-image-border" height="400" width="794" src="./docs/images/stage.png" data-image-src="./docs/images/stage.png" data-unresolved-comment-count="0" data-linked-resource-id="135469470" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="stage.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > stage.png" data-location="Jenkins > Cadence vManager Plugin > stage.png" data-image-height="439" data-image-width="872"></p><p><span style="color: rgb(0,0,0);"><strong><br /></strong></span></p><p><span style="color: rgb(0,0,0);"><strong>Setting Jenkins to delete the build's sessions from vManager DB when a build is being removed</strong></span></p><p><span style="color: rgb(0,0,0);"><strong><img class="confluence-embedded-image confluence-content-image-border" height="400" width="750" src="./docs/images/delete.png" data-image-src="./docs/images/delete.png" data-unresolved-comment-count="0" data-linked-resource-id="135470611" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="delete.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > delete.png" data-location="Jenkins > Cadence vManager Plugin > delete.png" data-image-height="497" data-image-width="933"><br /></strong></span></p><p><span style="color: rgb(0,0,0);"><strong><br /></strong></span></p><div>Choosing to delete vManager session during build removal, will trigger an operation during manual/automatic deletion of a build, to deal with the remote session/sessions that were created during that build on the vManager DB.<br />When this option is enabled the build will place an instruction file (sdi.properties) within the job directory that specify the sessions to get deleted, as well as other parameters - that will be used during the delete operation.<br /><br />Builds that runs while this option is turned off, will not get effected during removal, and will keep their sessions.<br /><br />You can choose between two methodologies: <br /><br /><strong>Sync Delete Methodology (built-in)</strong><br />In case you select the sync methodology, the plugin will call vManager vAPI during the build removal process for deleting the sessions that were created during that same build.<br />With this option you can also supply a generic user/password to be used for the delete operation, otherwise, the same user that was used during the build will be picked automatically. <br />Please note that the sync methodology is lacking two main aspects:<br />1. Since Jenkins ignores any exception thrown within the callback functions of RunListener, the build will get deleted even if the session failed to get deleted from vManager DB.<br />2. When the vAPI is down, it can take up to 20 seconds to finish the operation (as it needs to wait till vAPI will be available) - the UX at that time, might appears as sluggish to the end user.<br /><br /><strong>Async Delete Methodology (externally)</strong><br />In case you want to introduce a more robust approach (promising a session deletion even if vManager Server is down, as well as faster UX), you should use the async methodology.<br />When Async Methodology is used, the callback function will not try to delete the session, but instead will copy the sdi.properties file into an external location of your choice. <br />You should create an additional job, one that is triggered every 1 minute for scanning that directory (and trying to delete the relevant sessions within these sdi files). To exclude the copy of the sdi files during build removal, this flow is not managed by the plugin.<br />Please note - defining an external directory location (in windows) requires the use of forward slash instead of backslash.</div><h5>Dashboard</h5><p>The vManager Plugin also support a new Dashboard portal using the Dashboard-view plugin.  The new portal reflects the session's states launched by the various builds:</p><p><img class="confluence-embedded-image confluence-content-image-border" src="./docs/images/Dashboard.png" data-image-src="./docs/images/Dashboard.png" data-unresolved-comment-count="0" data-linked-resource-id="99614744" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Dashboard.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > Dashboard.png" data-location="Jenkins > Cadence vManager Plugin > Dashboard.png" data-image-height="169" data-image-width="1091"><br />To enable the new portal, select &quot;<strong>vManager Latest Sessions</strong>&quot; from the Dashboard drop-down.</p><h5>Authentication</h5><h5><img class="confluence-embedded-image confluence-content-image-border" src="./docs/images/newlogin.png" data-image-src="./docs/images/newlogin.png" data-unresolved-comment-count="0" data-linked-resource-id="73597066" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="newlogin.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > newlogin.png" data-location="Jenkins > Cadence vManager Plugin > newlogin.png" data-image-height="294" data-image-width="682"></h5><p><span style="color: rgb(136,136,136);"><em>defining the connection settings</em></span></p><p>In case of a need in dynamically selecting the user name per job, the pre-job should place into the workspace directory a file with single line that contains the userid to be used.<br />The file name should be: $BUILD_NUMBER.$BUILD_ID.user.input<br />The job will pick the userid which is in the file, and connect to vAPI using this userid and the vAPI secret key.</p><p><br /></p><p><u><em><strong>vManager Post Build Actions</strong></em></u></p><p>The vManager Plugin also supports a post-build action that brings:</p><ul><li>High level view at the  session's states launched by the various builds:</li><li>Project level hyperlink that links to vManager Web Regression for the last build available for further analysis</li><li>Fine grained view of the session launched at the build (run) level (in case more than one session was launched during the regression)</li><li>Build level hyperlink that links to vManager Web Regression for the launched session for further analysis</li><li><span><span>Adds an ability to embed the vManager Summary Report within Jenkins as part of the build page.</span></span></li><li><span><span><span>Adds an ability to send vManager Summary Report to dynamically selective users at the end of the regression.</span></span></span></li></ul><p>The action is also available for pipeline usage using the function <strong>vmanagerPostBuildActions()</strong></p><p><u><em>Pre-requisite and limitation when using the post build action:</em></u></p><ol><li>The post-build action uses information that is gathered by the Launcher Action.  In order for the launcher action to generate the relevant information, please make sure &quot;Wait for launched session to end&quot; is checked on the <strong>vManager Session Launcher </strong>described above.</li><li>Please make sure<strong> vManager Session Launcher</strong> step is used in your workflow prior of calling the post-build action.</li><li>The new added links will <strong>not</strong> appear at the Project level until at least one build will get completed on the relevant project (since the date the post-action was added)</li><li>In case of a Jenkins restart, the links at the Project level will not work until at least one build will get completed on the relevant project (since the time of restart).  This is because of a bug in the Jenkins Platform.</li></ol><p style="margin-left: 30.0px;"><img class="confluence-embedded-image confluence-content-image-border" height="400" width="759" src="./docs/images/projectlevel.png" data-image-src="./docs/images/projectlevel.png" data-unresolved-comment-count="0" data-linked-resource-id="182485258" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="projectlevel.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > projectlevel.png" data-location="Jenkins > Cadence vManager Plugin > projectlevel.png" data-image-height="789" data-image-width="1498"></p><p style="margin-left: 30.0px;"><span style="color: rgb(136,136,136);"><em>Session View at the Project level</em></span></p><p style="margin-left: 30.0px;"><br /></p><p style="margin-left: 30.0px;"><img class="confluence-embedded-image confluence-content-image-border" height="400" width="894" src="./docs/images/buildlevel.png" data-image-src="./docs/images/buildlevel.png" data-unresolved-comment-count="0" data-linked-resource-id="182485257" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="buildlevel.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > buildlevel.png" data-location="Jenkins > Cadence vManager Plugin > buildlevel.png" data-image-height="494" data-image-width="1104"></p><p style="margin-left: 30.0px;"><span style="color: rgb(136,136,136);"><em>Session Triage View at the Build level</em></span></p><p style="margin-left: 30.0px;"><br /></p><p style="margin-left: 30.0px;"><img class="confluence-embedded-image confluence-content-image-border" height="400" width="750" src="./docs/images/buildlevellink.png" data-image-src="./docs/images/buildlevellink.png" data-unresolved-comment-count="0" data-linked-resource-id="182485256" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="buildlevellink.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > buildlevellink.png" data-location="Jenkins > Cadence vManager Plugin > buildlevellink.png" data-image-height="552" data-image-width="1035"></p><p style="margin-left: 30.0px;"><span style="color: rgb(136,136,136);"><em>Links at the build level for doing analysis on the launched session. (vManager Analysis)</em></span></p><p style="margin-left: 30.0px;"><br /></p><p style="margin-left: 30.0px;"><img class="confluence-embedded-image" height="400" src="./docs/images/projectlevellink.png" data-image-src="./docs/images/projectlevellink.png" data-unresolved-comment-count="0" data-linked-resource-id="182485255" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="projectlevellink.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > projectlevellink.png" data-location="Jenkins > Cadence vManager Plugin > projectlevellink.png" data-image-height="720" data-image-width="828"></p><p><span style="color: rgb(136,136,136);"><em>Links at the project level for doing analysis on the last completed build. (vManager Analysis)</em></span></p><p><br /></p><p><strong>Summary Report and Email</strong></p><p><span style="color: rgb(122,134,154);"><em><sup><strong>**Security issue</strong> was introduced in version 2.7.0.  Please use version 2.7.1 and above if possible.  If you are already using the below capability on 2.7.0, upgrading to 2.7.1 will add a new checkbox to get your consent regard SSL validation.  Please check for more information within the plugin's configurations.  </sup></em></span></p><ol><li>The vManager 2.7.0 post-build now have the ability to embed into Jenkins the vManager Summary Report.  This gives you the ability to have a quick view of your verification closure, vPlan progress and test based hierarchy aggregation right from the Jenkins build page using Javascript collapse/expand capability to view the hierarchies for any level needed.</li><li>The post plugin also allows you to specify static/dynamic list of emails to get the summary report at the end of each build.</li></ol><p>The Summary Report is part of the Plugin Advanced Functions, and is supported as part of pipeline dsl or traditional post plugin.</p><p><img class="confluence-embedded-image confluence-content-image-border" height="400" confluence-query-params="effects=border-simple,blur-border" src="./docs/images/report_tests.png" data-image-src="./docs/images/report_tests.png" data-unresolved-comment-count="0" data-linked-resource-id="182486123" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="report_tests.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > report_tests.png" data-location="Jenkins > Cadence vManager Plugin > report_tests.png" data-image-height="804" data-image-width="1886"></p><p><img class="confluence-embedded-image confluence-content-image-border" height="400" width="1336" src="./docs/images/report_metrics.png" data-image-src="./docs/images/report_metrics.png" data-unresolved-comment-count="0" data-linked-resource-id="182486124" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="report_metrics.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > report_metrics.png" data-location="Jenkins > Cadence vManager Plugin > report_metrics.png" data-image-height="406" data-image-width="1356"></p><p><br /></p><p>The summary report support 3 modes for bringing the report into the Jenkins environment:</p><p><strong>Retrieve and Present Job Summary Report</strong></p><p>This mode covers most of the summary report settings, but not all using some kind of pre-built menu.  It gives you the ability to define which sections (tests, metrics, vplan) to include in the report, as well as other advanced parameters within each section.  Using this mode is the fastest way to try out the capability. </p><p><strong>Retrieve and Present Job Summary Report (free vAPI syntax)</strong></p><p>In case a finer granularity is needed for the summary report such that is not available within the menu approach, one can choose to work with the full definition of the vAPI syntax for the /reports/generate-summary-report vAPI.  Please make sure not to include the &quot;rs&quot; part as it's built by the plugin dynamically based on the session list that were launched during the specific build. </p><p><strong>Important (</strong>before and after 19.09 version<strong>):</strong></p><p>In order to embed the summary report into Jenkins, a special format of report is needed.  This special format can be achieved with the additional vAPI flag &quot;Jenkins&quot;:true that is only supported in vManager 19.09 onward. </p><p>In order to make this feature available also for users who are currently not using vManager &gt;19.09, please set the &quot;vManager Version&quot; drop down accordingly (default to 19.09), so that the plugin will know parse/modify the report and make it Jenkins complaint.  The outcome in both options is the same although there can be differences in the performance of the overall operation.</p><p><strong>Email</strong></p><p>The email feature comes in this plugin is making use of the vManager Server Email capability.  Please make sure that Sendmail package is installed on your Linux machine where the vManager server is installed if you would like to use this capability.</p><p><br /></p><p><strong>Bring the summary report yourself (view mode only)</strong></p><p>As the vAPI runs under the vManager server account, it can introduce a limitation when trying to get access to coverage or vPlan data.  In such cases, the vAPI can't be used for getting the report, and the user have the option to generate the report himself using batch command.  This option is only available for users with vManager version <strong>19.09</strong> and above as the report generated must have a very specific format that can only be achieved by adding the flag &quot;-jenkins true&quot; within the batch command – which only supported starting 19.09.  In order for the plugin to find the report and show it to the user - please place the report in the following format within the job working directory:  <strong>${BUILD_NUMBER}.${BUILD_ID}.summary.report</strong></p><p>&quot;<strong>Email</strong>&quot; is not offered as part of this mode.</p><p><br /></p><p><img class="confluence-embedded-image confluence-content-image-border" height="400" src="./docs/images/report_conf.png" data-image-src="./docs/images/report_conf.png" data-unresolved-comment-count="0" data-linked-resource-id="182486125" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="report_conf.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="73532264" data-linked-resource-container-version="79" title="Jenkins > Cadence vManager Plugin > report_conf.png" data-location="Jenkins > Cadence vManager Plugin > report_conf.png" data-image-height="449" data-image-width="988"></p><h3>Change Log</h3><h5>Version 2.7.1 (Oct 11, 2019)</h5><ul><li>Security fix.  See above for information. </li></ul><h5>Version 2.7.0 (Sep 26, 2019)</h5><ul><li>Added a support in a Summary Report post build.</li><li>Added support for sending Email with Summary report post build.</li></ul><h5>Version 2.6.0 (Sep 11, 2019)</h5><ul><li>Added a support in a session launching that is made by a pre-step using shell/batch.</li><li>Fixed missing UI in the pipeline syntax reference page.</li></ul><h5>Version 2.5.9 (Sep 10, 2019)</h5><ul><li><span>Added a link within the project page for direct access to the vManager web <span>analysis (post-build action)</span></span></li><li><span><span>Added a table of sessions within the project's page to track the session's history and give high level overview about the progress (post-build action)</span></span></li><li>Added support for vManager HA architecture</li><li>Fix JUnit report to aggregate all runs from all session's that were launched as part of the build (before only the last session's runs were collected).  This is only relevant for build that launches more than one session.</li></ul><h5>Version 2.5.8 (Aug 28, 2019)</h5><ul><li>Added an option to overwrite vsif attribute values before launch.</li></ul><h5>Version 2.5.7 (Aug 21, 2019)</h5><ul><li>A fix for Dashboard view with jobs that lack the build area (there was an issue that caused the list of jobs to become empty within the vManager Latest Job plugin).</li></ul><h5>Version 2.5.6 (June 28, 2019)</h5><ul><li>Added an option to launch regression using the user's stored private SSH key.</li></ul><h5>Version 2.5.5 (April 15, 2019)</h5><ul><li>Added an option to mark Jenkins Job as &quot;Failed&quot; unless all the runs in the session passed.</li></ul><h5>Version 2.5.4 (Sep 27, 2018)</h5><ul><li>Added a support in master/node setup.  An ability to specify the master workspace.</li></ul><h5>Version 2.5.3 (Feb 7, 2018)</h5><ul><li>Added a support to avoid appending the seed number to the test name in the JUnit XML report.</li></ul><h5>Version 2.5.2 (Dec 10, 2017)</h5><ul><li><span>Added a support for a session delete when a manual/automatic build removal is made.</span></li></ul><h5>Version 2.5.1 (Nov 22, 2017)</h5><ul><li>Added support in Pipeline.  You can now call vManager Launch using the Pipeline syntax.  (Requires Jenkins 2.19.1 and above.)</li><li>vManager Dashboard will now fetch historical data from the build directory instead of the workspace directory.  Once this plugin is updated, the Dashboard will only show historical jobs running from when the update occurred and on.</li></ul><h5>Version 2.4.9 (Sep 26, 2017)</h5><ul><li>Add an option to support the new 17.10 capability of sourcing an alias file for env variable per user before launching a session.</li></ul><h5>Version 2.4.7 (Feb 22, 2017)</h5><ul><li>Add an option to mark Jenkins Job as &quot;Failed&quot; when all runs in session are also failed.</li></ul><h5>Version 2.4.5 (Dec 9, 2016)</h5><ul><li>Add JUnit support in up to 100K run's for the XML report.</li><li>Fix special characters for JUnit XML.</li></ul><h5>Version 2.4.3 (Oct 26, 2016)</h5><ul><li>Add an option to mark build as &quot;Failed&quot; when all runs in session are also failed.</li></ul><h5>Version 2.4.2 (Sep 20, 2016)</h5><ul><li>Fixed a crash when saving the Jenkins Global Configuration screen.</li></ul><h5>Version 2.4 (Aug 23, 2016)</h5><ul><li>Changed Junit XML output to mark 'skip' (yellow) on any run state other than 'passed' or 'failed'.</li></ul><h5>Version 2.3 (Aug 19, 2016)</h5><ul><li>Add session generated unique id as part of the session name in the dashboard.</li><li>Change the JUnit XML file name to be consisted across all builds.</li><li>Upgrade the build POM to Jenkins 2.14</li></ul><h5>Version 1.10 (July 24, 2016)</h5><ul><li>Add support for detailed error messages coming back from vAPI such as missing env variables.</li><li>Add support for JUnit Results XML even when build marked as failed.</li></ul><h5>Version 1.9 (July 18, 2016)</h5><ul><li>Add support in dashboard-view plugin.</li><li>Add support for JUnit Results XML</li></ul><h5>Version 1.8 (July 12, 2016)</h5><ul><li>Add support for the build step to wait till Session ends.</li><li>Create session_list.output per job that contain the session ID launched.</li></ul><h5>Version 1.7 (July 5, 2016)</h5><ul><li>Add support for Session Launch with the user's Linux account credentials.</li></ul><h5>Version 1.6 (May 20, 2015)</h5><ul><li>Add support for VSIF variables.</li></ul><h5>Version 1.5 (May 14, 2015)</h5><ul><li>Add support in timeout configuration.</li></ul><h5>Version 1.4 (Sep 11, 2014)</h5><ul><li>Add support in PUT &amp; GET API.</li></ul><h5>Version 1.3 (Aug 24, 2014)</h5><ul><li>Add support in vAPI over SSL.</li></ul><h5>Version 1.2 (Aug 14, 2014)</h5><ul><li>Update code for supporting the automatic launching of vAPI using vManager Server.</li></ul><h5>Version 1.1 (July 17, 2014)</h5><ul><li>Update code for more recent API</li></ul><h5>Version 1.0 (July 15, 2014)</h5><ul><li>Initial release</li></ul>
        <p>&nbsp;</p>
    </body>
</html>
